<div class="row justify-content-center">
  <div class="col-12">
    <mat-card class="mat-elevation-z4">
      <mat-card-title>Agregar estudio</mat-card-title>
      <mat-card-content>
        <form
          [formGroup]="createStudyForm"
          (ngSubmit)="onSubmit()"
          autocomplete="off"
        >
          <div class="row justify-content-center justify-content-sm-start">
            <!-- Study type. -->
            <div class="col-12 col-md-6 col-lg-4 mt-2">
              <mat-form-field class="ff-no-bottom-space moz-suffix">
                <mat-label>Estudio</mat-label>
                <mat-select formControlName="studyType">
                  <mat-option
                    *ngFor="let studyType of StudyTypeArray; last as isLast"
                    [value]="studyType"
                  >
                    {{ studyType | studyType }}
                  </mat-option>
                </mat-select>
              </mat-form-field>
            </div>

            <!-- Observación. -->
            <div class="col-12 mb-2 colObservationInput">
              <mat-form-field appearance="outline" hideRequiredMarker>
                <mat-label> Observación </mat-label>
                <input
                  matInput
                  formControlName="observation"
                  autocomplete="off"
                  type="text"
                  maxlength="255"
                />
              </mat-form-field>
              <p
                *ngIf="observation.value?.length > 0"
                class="observationLength"
              >
                {{ observation.value?.length }} de 255.
              </p>
            </div>

            <div class="col-12 mb-2">
              <odo-upload-studio-files
                [uploadFiles]="submitting"
                (selectedFilesOut)="onSelectedFilesOutChange($event)"
                (uploadedFile)="onUploadedFileChange($event)"
              ></odo-upload-studio-files>
            </div>

            <div class="col-12 d-flex justify-content-end">
              <button
                mat-stroked-button
                color="accent"
                [disabled]="submitting"
                (click)="onCancel()"
              >
                Cancelar
              </button>
              <button
                class="submitButton"
                [class.mini-spinner]="submitting"
                mat-flat-button
                color="primary"
                [disabled]="!(validatedForm && fileList?.length > 0)"
                type="submit"
              >
                Guardar
              </button>
            </div>
          </div>
        </form>
      </mat-card-content>
    </mat-card>
  </div>
</div>
